### 5. 效果分析

论文对mABC框架进行了全面实验评估，使用了两个数据集：公开的AIOps挑战数据集和作者新建的Train-Ticket数据集。AIOps挑战数据集包含14天内超过1.45亿条日志记录，涵盖容器CPU/内存利用率、数据库连接性和网络延迟等多种微服务故障场景；Train-Ticket数据集基于一个包含41个微服务的火车票预订系统，通过注入网络丢包、CPU峰值、内存溢出等故障，生成超过23万条调用链和900多条警报事件。这两个数据集有效模拟了微服务架构中故障传播和循环依赖的复杂性，为框架性能评估提供了可靠基础。

#### 5.1 根因识别性能

论文的主要实验结果如表1所示。以GPT-4-Turbo作为后端LLM时，mABC在Train-Ticket数据集上的根因准确率（RA）达到54.4%，路径准确率（PA）为48.2%；在AIOps挑战数据集上RA为45.5%，PA为39.3%，整体平均性能显著领先其他方法。相比之下，单智能体ReAct（GPT-4-Turbo）的整体平均RA和PA分别为38.5%和36.0%；传统无监督方法如TraceAnomaly仅为22.0%和19.5%，决策树方法为31.6%和27.5%。即使使用较弱的Llama-3-8B-Instruct或GPT-3.5-Turbo，mABC的表现仍优于同等后端的ReAct，体现了多智能体协作的明显优势。

**表1:Train-Ticket数据集和AIOps挑战数据集上的主要结果**

| Model                  | Base                | Train-Ticket RA | Train-Ticket PA | Train-Ticket Avg | AIOps RA | AIOps PA | AIOps Avg | Overall Avg |
|------------------------|---------------------|-----------------|-----------------|------------------|----------|----------|-----------|-------------|
| Decision Tree          | -                   | 36.8            | 34.7            | 35.8             | 28.3     | 26.7     | 27.5      | 31.6        |
| TraceAnomaly           | -                   | 25.3            | 23.5            | 24.4             | 20.1     | 18.9     | 19.5      | 22.0        |
| MEPFL                  | -                   | 30.3            | 29.1            | 29.7             | 33.7     | 29.7     | 31.7      | 30.7        |
| ReAct                  | GPT-3.5-Turbo       | 31.8            | 26.8            | 29.3             | 25.1     | 22.7     | 23.9      | 26.6        |
| ReAct                  | GPT-4-Turbo         | 43.0            | 38.9            | 41.0             | 37.5     | 34.4     | 36.0      | 38.5        |
| mABC                   | Llama-3-8B-Instruct | 46.1            | 40.9            | 43.5             | 43.0     | 39.9     | 41.5      | 42.5        |
| mABC                   | GPT-3.5-Turbo       | 48.1            | 42.8            | 45.5             | 41.1     | 36.7     | 38.9      | 42.2        |
| mABC                   | GPT-4-Turbo         | **54.4**        | **48.2**        | **51.3**         | **45.5** | **39.3** | **42.4**  | **46.9**    |

#### 5.2 决策效率

表2展示了决策效率评估结果。mABC（GPT-4-Turbo）在15步内完成任务的比例（Pass Rate, PR）最高，Train-Ticket数据集上为73.0%，AIOps数据集上为68.8%；平均路径长度（APL）最低，分别为10.4步和11.7步，远低于其他基线的13~20步。这表明Agent Workflow通过步骤限制（最多20步）和ReAct与直接回答的灵活切换，有效避免了因循环依赖导致的无限循环问题，显著提升了分析过程的稳定性和效率。

**表2:决策效率评估**

| Model                  | Base                | Train-Ticket PR (%) | Train-Ticket APL | AIOps PR (%) | AIOps APL |
|------------------------|---------------------|---------------------|------------------|--------------|-----------|
| Decision Tree          | -                   | 62.4                | 12.1             | 53.8         | 13.4      |
| TraceAnomaly           | -                   | 25.3                | 20.3             | 31.1         | 19.1      |
| MEPFL                  | -                   | 33.3                | 19.2             | 37.1         | 18.7      |
| ReAct                  | GPT-3.5-Turbo       | 41.7                | 15.9             | 38.0         | 16.2      |
| ReAct                  | GPT-4-Turbo         | 47.1                | 13.9             | 44.2         | 14.3      |
| mABC                   | Llama-3-8B-Instruct | 56.1                | 14.8             | 46.1         | 17.7      |
| mABC                   | GPT-3.5-Turbo       | 58.1                | 13.8             | 51.1         | 14.7      |
| mABC                   | GPT-4-Turbo         | **73.0**            | **10.4**         | **68.8**     | **11.7**  |

#### 5.3 解决方案生成质量

解决方案的有用性通过人工评估衡量（表3）。10位AIOps领域专家对随机抽取的200个案例进行1-5分打分。mABC（GPT-4-Turbo）在Train-Ticket数据集上获得4.2分，在AIOps数据集上获得3.6分，远高于ReAct的2.4分和2.3分。解决方案工程师智能体能够参考历史案例，提出具体可操作的修复建议，如扩展数据库实例、引入缓存机制或消息队列，显示出较强的实用性。

**表3:人工评估结果（解决方案有用性）**

| Model                  | Base                | R-Useful (Train-Ticket) | R-Useful (AIOps) |
|------------------------|---------------------|--------------------------|------------------|
| Decision Tree          | -                   | -                        | -                |
| TraceAnomaly           | -                   | -                        | -                |
| MEPFL                  | -                   | -                        | -                |
| ReAct                  | GPT-3.5-Turbo       | 2.1                      | 2.1              |
| ReAct                  | GPT-4-Turbo         | 2.4                      | 2.3              |
| mABC                   | Llama-3-8B-Instruct | 3.3                      | 2.7              |
| mABC                   | GPT-3.5-Turbo       | 3.1                      | 3.2              |
| mABC                   | GPT-4-Turbo         | **4.2**                  | **3.6**          |

#### 5.4 消融实验

消融实验（表4）进一步验证了框架各核心组件的有效性。以GPT-4-Turbo变体为基础，去除Agent Workflow、多智能体协作或类区块链投票机制均会导致性能显著下降，尤其在根因准确率和决策效率上。这表明多智能体的专业分工、标准化工作流以及投票去幻觉机制缺一不可。

**表4:组件影响评估（消融实验）**

| Model                          | Train-Ticket RA | PA   | PR (%) | APL  | R-Useful | AIOps RA | PA   | PR (%) | APL  | R-Useful |
|--------------------------------|-----------------|------|--------|------|----------|----------|------|--------|------|----------|
| mABC                           | **54.4**        | **48.2** | **73.0** | **10.4** | **4.2**  | **45.5** | **39.3** | **68.8** | **11.7** | **3.6**  |
| mABC w/o Agent Workflow        | 46.2            | 38.7 | 67.7   | 11.8 | 3.5      | 36.6     | 34.3 | 61.3   | 11.7 | 3.3      |
| mABC w/o Multi-Agent           | 38.4            | 33.0 | 52.9   | 13.7 | 2.8      | 32.4     | 28.8 | 50.1   | 13.7 | 2.7      |
| mABC w/o Voting                | 44.8            | 39.9 | 65.7   | 10.9 | 3.3      | 40.1     | 36.7 | 68.0   | 10.2 | 3.4      |

总体而言，mABC在根因识别精度、决策效率和解决方案实用性等多项指标上均表现出色，为微服务环境下的自动化根因分析提供了有效支持。

#### 5.5. 结论

随着微服务架构的普及，系统复杂性急剧增加，故障传播和循环依赖让传统根因分析（RCA）方法力不从心。本文提出的mABC框架，通过多智能体协作和大语言模型（LLM）的知识能力，构建了一个去中心化链式结构，包括七个专业智能体（如警报接收者、进程调度者和数据侦探）。同时，引入类区块链投票机制来减少LLM的幻觉，确保决策可靠；Agent Workflow则标准化任务流程，限制步骤以避免非终止循环。

实验结果证实了mABC的有效性。在AIOps挑战数据集和Train-Ticket数据集上，mABC在RA、PA、PR、APL和R-Useful等指标上均超越基线，如无监督方法（TraceAnomaly）和单智能体LLM方法（ReAct）。消融研究进一步证明，多智能体协作提供多样视角，Agent Workflow确保过程稳定，投票机制提升输出可靠性，这些组件缺一不可。

mABC为微服务故障管理和修复提供了全面方案，推动了多智能体系统与区块链原则在AIOps中的应用。它能减少人工干预，提高IT运维效率，具有实际工业价值。

不过，框架也存在局限，如计算开销较高、处理时间较长，以及对数据准确性的依赖。未来，可以探索更大规模系统的扩展，整合更多数据源（如实时指标和拓扑图），优化智能体协作以适应动态环境。开源代码和数据集的发布，将有助于社区进一步发展和应用。从实验结果和框架设计来看，mABC有望成为微服务故障分析的基准，推动AI在IT领域的落地。
