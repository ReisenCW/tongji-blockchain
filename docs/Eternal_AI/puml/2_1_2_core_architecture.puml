@startuml
skinparam rectangle {
    borderRadius 10
    shadowing false
}
skinparam package {
    borderRadius 10
    borderColor gray
    fontColor gray
}

package "用户与开发者" {
    rectangle "用户 DApp" as UserApp
    rectangle "开发者 SDK / EternalAI.js" as DevSDK
}

package "应用层" {
    rectangle "Agent-as-a-Service / Orchestration" as AaaS
}

package "协议层" {
    rectangle "AI721: Agent NFT" as AI721
    rectangle "WorkerHub: 算力管理" as WorkerHub
    rectangle "PromptScheduler: 任务调度" as PromptScheduler
}

package "执行层" {
    rectangle "Decentralized Compute Network / Miners" as Compute
    rectangle "Decentralized Storage / Arweave, Filecoin" as Storage
}

UserApp --> AaaS
DevSDK --> AaaS
AaaS --> PromptScheduler : "发起推理请求"
PromptScheduler --> WorkerHub : "分配任务"
WorkerHub --> Compute : "触发 TaskAssigned 事件"
Compute --> Compute : "执行 LLM 推理"
Compute --> WorkerHub : "提交结果"
AI721 --> PromptScheduler : "Agent 配置信息"
Compute --> Storage : "读写模型/知识"

@enduml
